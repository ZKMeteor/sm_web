"use strict";(self["webpackChunksm_web"]=self["webpackChunksm_web"]||[]).push([[201],{1201:function(s,t,e){e.r(t),e.d(t,{default:function(){return I}});var i=e(3396),c=e(9242),a=e(7139);const o=s=>((0,i.dD)("data-v-410880a4"),s=s(),(0,i.Cn)(),s),l={class:"container-fluid product animate__animated animate__fadeIn"},r={class:"container"},n={class:"row bg"},d={class:"searchBox"},h={class:"list col-md-3 col-12"},u={class:"listbox"},p=o((()=>(0,i._)("h1",null,"商品列表",-1))),_={class:"item col-md-9"},g=["src","onClick"],m={class:""},v={class:"card-title"},C={class:"bottom"},y={class:"card-origin",style:{"font-size":"15px"}},w={class:"card-price"};function b(s,t,e,o,b,k){const f=(0,i.up)("LoadingIcon"),x=(0,i.up)("ToastMessages"),L=(0,i.up)("ion-icon");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(f,{active:b.isLoading},null,8,["active"]),(0,i._)("div",r,[(0,i._)("div",n,[(0,i._)("div",d,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>b.search=s),placeholder:"請輸入關鍵字"},null,512),[[c.nr,b.search]])]),(0,i._)("div",h,[(0,i._)("div",u,[(0,i.Wm)(x),p,(0,i._)("div",null,[(0,i._)("div",{class:(0,a.C_)(["choose",{bgc:"所有商品"===b.style}]),onClick:t[1]||(t[1]=s=>k.chooseClass(s))}," 所有商品 ",2),(0,i._)("div",{class:(0,a.C_)(["choose",{bgc:"鈴芽之旅"===b.style}]),onClick:t[2]||(t[2]=s=>k.chooseClass(s))}," 鈴芽之旅 ",2),(0,i._)("div",{class:(0,a.C_)(["choose",{bgc:"天氣之子"===b.style}]),onClick:t[3]||(t[3]=s=>k.chooseClass(s))}," 天氣之子 ",2),(0,i._)("div",{class:(0,a.C_)(["choose",{bgc:"你的名字"===b.style}]),onClick:t[4]||(t[4]=s=>k.chooseClass(s))}," 你的名字 ",2)])])]),(0,i._)("div",_,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(k.searchProduct,(s=>((0,i.wg)(),(0,i.iD)("div",{key:s.id,class:"card"},[(0,i._)("img",{src:s.imageUrl,class:"img-fluid",onClick:t=>k.chooseItem(s.id)},null,8,g),(0,i.Wm)(L,{name:"cart-outline",class:"icons",onClick:t=>k.addCart(s.id)},null,8,["onClick"]),(0,i._)("div",m,[(0,i._)("h4",v,(0,a.zw)(s.title),1),(0,i._)("div",C,[(0,i._)("p",y," 原價:"+(0,a.zw)(s.origin_price),1),(0,i._)("p",w,"優惠價:"+(0,a.zw)(s.price),1)])])])))),128))])])])])}e(7658);var k=e(1250),f={data(){return{product:[],search:"",isLoading:!1,category:"所有商品",style:"所有商品",status:""}},components:{ToastMessages:k.Z},inject:["emitter"],methods:{getProduct(){let s="https://vue3-course-api.hexschool.io/api/sm_web-api/products/all";this.isLoading=!0,this.$http.get(s).then((s=>{this.isLoading=!1,this.product=s.data.products}))},chooseItem(s){this.$router.push(`/product/${s}`)},chooseClass(s){this.category=s.target.innerText,this.style=s.target.innerText},addCart(s){let t="https://vue3-course-api.hexschool.io/api/sm_web-api/cart";this.status=s;let e={product_id:s,qty:1};this.isLoading=!0,this.$http.post(t,{data:e}).then((s=>{this.status="",this.isLoading=!1,console.log(s),this.$httpMessage(s,"加入購物車")}))}},computed:{searchProduct(){return this.product.filter((s=>"所有商品"===this.category?s:this.category===s.category)).filter((s=>s.title.match(this.search)))}},created(){this.getProduct()}},x=e(89);const L=(0,x.Z)(f,[["render",b],["__scopeId","data-v-410880a4"]]);var I=L}}]);
//# sourceMappingURL=201.858abbb9.js.map