"use strict";(self["webpackChunksm_web"]=self["webpackChunksm_web"]||[]).push([[757],{6757:function(t,l,e){e.r(l),e.d(l,{default:function(){return H}});var d=e(3396),r=e(7139),s=e(9242);const a=t=>((0,d.dD)("data-v-737599d5"),t=t(),(0,d.Cn)(),t),n={class:"container-fluid cart animate__animated animate__fadeIn"},o={class:"container"},i={class:"bg"},u={class:"row d-flex"},c=a((()=>(0,d._)("h1",null,"結帳清單",-1))),_={class:"col-md-6 col-12"},h={class:"table"},p=a((()=>(0,d._)("th",{width:"100"},"Email",-1))),w=a((()=>(0,d._)("th",null,"姓名",-1))),g=a((()=>(0,d._)("th",null,"收件人電話",-1))),m=a((()=>(0,d._)("th",null,"收件人地址",-1))),v=a((()=>(0,d._)("th",null,"付款狀態",-1))),b={key:0},f={key:1,class:"text-success"},y={class:"col-md-6 col-12"},k={class:"table align-middle"},z=a((()=>(0,d._)("thead",null,[(0,d._)("th",null,"品名"),(0,d._)("th",null,"數量"),(0,d._)("th",null,"單價")],-1))),I={class:"text-end"},x=a((()=>(0,d._)("td",{colspan:"2",class:"text-end"},"總計",-1))),D={class:"text-end"},O={key:0,class:"text-end"};function $(t,l,e,a,$,C){const L=(0,d.up)("LoadingIcon"),q=(0,d.up)("cartModal");return(0,d.wg)(),(0,d.iD)(d.HY,null,[(0,d._)("div",n,[(0,d._)("div",o,[(0,d.Wm)(L,{active:$.isLoading},null,8,["active"]),(0,d._)("div",i,[(0,d._)("div",u,[c,(0,d._)("div",_,[(0,d._)("table",h,[(0,d._)("tbody",null,[(0,d._)("tr",null,[p,(0,d._)("td",null,(0,r.zw)($.order.user.email),1)]),(0,d._)("tr",null,[w,(0,d._)("td",null,(0,r.zw)($.order.user.name),1)]),(0,d._)("tr",null,[g,(0,d._)("td",null,(0,r.zw)($.order.user.tel),1)]),(0,d._)("tr",null,[m,(0,d._)("td",null,(0,r.zw)($.order.user.address),1)]),(0,d._)("tr",null,[v,(0,d._)("td",null,[$.order.is_paid?((0,d.wg)(),(0,d.iD)("span",f,"付款完成")):((0,d.wg)(),(0,d.iD)("span",b,"尚未付款"))])])])])]),(0,d._)("div",y,[(0,d._)("table",k,[z,(0,d._)("tbody",null,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)($.order.products,(t=>((0,d.wg)(),(0,d.iD)("tr",{key:t.id},[(0,d._)("td",null,(0,r.zw)(t.product.title),1),(0,d._)("td",null,(0,r.zw)(t.qty)+(0,r.zw)(t.product.unit),1),(0,d._)("td",I,(0,r.zw)(t.final_total),1)])))),128))]),(0,d._)("tfoot",null,[(0,d._)("tr",null,[x,(0,d._)("td",D,(0,r.zw)($.order.total),1)])])]),!1===$.order.is_paid?((0,d.wg)(),(0,d.iD)("div",O,[(0,d._)("button",{class:"btn btn-danger",onClick:l[0]||(l[0]=(0,s.iM)(((...t)=>C.payOrder&&C.payOrder(...t)),["prevent"]))}," 確認付款去 ")])):(0,d.kq)("",!0)])])])])]),(0,d.Wm)(q,{ref:"modal"},null,512)],64)}var C={data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/sm_web-api/order/${this.orderId}`;this.$http.get(t).then((t=>{t.data.success&&(this.order=t.data.order,console.log(this.order))}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/sm_web-api/pay/${this.orderId}`;this.$http.post(t).then((t=>{console.log(t),t.data.success&&this.getOrder()}))}},created(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrder()}},L=e(89);const q=(0,L.Z)(C,[["render",$],["__scopeId","data-v-737599d5"]]);var H=q}}]);
//# sourceMappingURL=757.25612d47.js.map