"use strict";(self["webpackChunksm_web"]=self["webpackChunksm_web"]||[]).push([[274],{9274:function(t,s,i){i.r(s),i.d(s,{default:function(){return x}});var e=i(3396),a=i(7139),n=i(9242);const o={class:"container-fluid ID animate__animated animate__fadeIn"},d={class:"container"},c={class:"row bg"},l={class:"main col-md-6 col-12"},r=["src"],u={class:"content col-md-6 col-12"},p={class:"top"},h=(0,e._)("hr",{style:{color:"white"}},null,-1),m={class:"cart"},_=(0,e._)("h3",{style:{display:"inline"}},"請輸入數量:",-1),g={style:{display:"inline"}},v=["disabled"],b={key:0,class:"spinner-border spinner-border-sm",role:"status"},w=(0,e._)("span",{class:"visually-hidden"},"Loading...",-1),y=[w],f={class:"bottom"},k={style:{"text-decoration":"line-through",display:"inline"}},I={class:"price"};function q(t,s,i,w,q,C){const L=(0,e.up)("LoadingIcon"),z=(0,e.up)("ToastMessages");return(0,e.wg)(),(0,e.iD)("div",o,[(0,e.Wm)(L,{active:q.isLoading},null,8,["active"]),(0,e._)("div",d,[(0,e._)("div",c,[(0,e._)("div",l,[(0,e._)("img",{src:q.product.imageUrl,class:"mainPic"},null,8,r)]),(0,e._)("div",u,[(0,e.Wm)(z),(0,e._)("div",p,[(0,e._)("h1",null,(0,a.zw)(q.product.title),1),h,(0,e._)("h3",null,(0,a.zw)(q.product.description),1)]),(0,e._)("div",m,[_,(0,e.wy)((0,e._)("input",{type:"number","onUpdate:modelValue":s[0]||(s[0]=t=>q.qty=t),min:"1"},null,512),[[n.nr,q.qty]]),(0,e._)("h3",g,(0,a.zw)(q.product.unit),1),(0,e._)("button",{class:"btnCart mb-2",disabled:this.status.loadingItem===this.product.id,onClick:s[1]||(s[1]=t=>C.addCart())},[this.status.loadingItem===this.product.id?((0,e.wg)(),(0,e.iD)("div",b,y)):(0,e.kq)("",!0),(0,e.Uk)(" 加入購物車 ")],8,v)]),(0,e._)("div",f,[(0,e._)("h3",k," 原價: "+(0,a.zw)(q.product.origin_price)+"元 ",1),(0,e._)("h4",I,"優惠價:"+(0,a.zw)(q.product.price)+"元",1)])])])])])}var C=i(1250),L={props:["id"],data(){return{item:"",product:"",isLoading:!1,qty:1,status:{loadingItem:""}}},components:{ToastMessages:C.Z},inject:["emitter"],methods:{getProduct(){this.isLoading=!0;let t=`https://vue3-course-api.hexschool.io/api/sm_web-api/product/${this.item}`;this.$http.get(t).then((t=>{t.data.success&&(this.isLoading=!1,this.product=t.data.product)}))},addCart(){let t="https://vue3-course-api.hexschool.io/api/sm_web-api/cart";this.status.loadingItem=this.item;let s={product_id:this.item,qty:this.qty};this.$http.post(t,{data:s}).then((t=>{this.status.loadingItem="",this.$httpMessage(t,"加入購物車")}))}},created(){this.item=this.$route.params.id,this.getProduct()}},z=i(89);const $=(0,z.Z)(L,[["render",q]]);var x=$}}]);
//# sourceMappingURL=274.aa151381.js.map